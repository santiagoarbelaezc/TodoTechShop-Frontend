<section class="products-section" *ngIf="productos.length > 0">
  <!-- üîπ Encabezado del carrusel -->
  <div class="section-header">
    <h2 class="section-title">{{ titulo }}</h2>
    <p class="section-subtitle">Cat√°logo p√∫blico - Inicia sesi√≥n para comprar</p>
  </div>

  <!-- üîπ Contenedor del carrusel -->
  <div class="carousel-container">
    <button class="carousel-nav prev" (click)="scrollCarousel('prev')">‚Äπ</button>

    <div class="carousel-wrapper">
      <div class="carousel" [id]="'carousel-publico-' + carouselId">
        <div class="carousel-item" *ngFor="let producto of productos">
          <div class="product-card" (click)="verDetalleProducto(producto)">
            <!-- Imagen del producto -->
            <div class="product-image-container">
              <img
                [src]="obtenerImagenProducto(producto)"
                [alt]="producto.nombre"
                class="product-image"
                (error)="producto.imagenUrl = 'assets/images/default-product.png'"
              />
              <!-- Badge de cat√°logo p√∫blico -->
              <div class="public-badge">Vista Previa</div>
            </div>

            <!-- Contenido del producto -->
            <div class="product-content">
              <div class="product-header">
                <h3 class="product-title">{{ producto.nombre }}</h3>
                <span class="category-badge">{{ producto.categoria.nombre }}</span>
              </div>

              <div class="product-description">
                <p>{{ producto.descripcion }}</p>
              </div>

              <div class="product-price-container">
                <span class="price price-subtle">
                  {{ formatearPrecio(producto.precio) }}
                  <div class="price-inner-glow"></div>
                </span>
              </div>

              <!-- Bot√≥n para agregar al carrito (redirige al login) -->
              <div class="product-actions">
                <div class="carrito-container">
                  <button
                    class="btn-carrito btn-login-required"
                    (click)="agregarAlCarrito(producto, $event)"
                  >
                    <span class="btn-icon">üîí</span>
                    <span class="btn-text">
                      Iniciar sesi√≥n para comprar
                    </span>
                  </button>

                  <span class="stock-info" [ngClass]="obtenerClaseStock(producto)">
                    {{ obtenerTextoStock(producto) }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="carousel-nav next" (click)="scrollCarousel('next')">‚Ä∫</button>
  </div>

  <!-- üîπ Indicadores del carrusel -->
  <div class="carousel-indicators">
    <span class="indicator active"></span>
    <span class="indicator"></span>
    <span class="indicator"></span>
  </div>
</section>